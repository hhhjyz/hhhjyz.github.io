# 赛前培训

## 1 DCU

![](assets/Pasted%20image%2020250912193243.png)


```bash
hy-smi --showtopo #查看拓扑结构
```

![](assets/Pasted%20image%2020250912193405.png)

软件下载 [https://developer.sourcefind.cn/tool/](https://developer.sourcefind.cn/tool/)

### 1.1 DCU 工具

#### 1.1.1 hy-smi

![](assets/Pasted%20image%2020250912193926.png)

![](assets/Pasted%20image%2020250912194021.png)

![](assets/Pasted%20image%2020250912194050.png)

查看当前进程信息 hy-smi --showpids

![](assets/Pasted%20image%2020250912194158.png)

![](assets/Pasted%20image%2020250912194327.png)

### 1.2 性能分析工具

`torch.prof`

![](assets/Pasted%20image%2020250912194503.png)
![](assets/Pasted%20image%2020250912194523.png)
![](assets/Pasted%20image%2020250912194558.png)
![](assets/Pasted%20image%2020250912194643.png)

![](assets/Pasted%20image%2020250912194750.png)

![](assets/Pasted%20image%2020250912195150.png)

`hipprof `

### 1.3 计算库验证

![](assets/Pasted%20image%2020250912202215.png)
![](assets/Pasted%20image%2020250912202226.png)
![](assets/Pasted%20image%2020250912202341.png)
![](assets/Pasted%20image%2020250912202416.png)
![](assets/Pasted%20image%2020250912202448.png)

### 1.4 精度测试工具

![](assets/Pasted%20image%2020250912202559.png)

![](assets/Pasted%20image%2020250912202609.png)

## 2 MOE

conda: `module load anaconda3/5.2.0`
切换compiler 版本： `module switch compiler/dtk/21.10 compiler/dtk/24.04`

```bash
conda create -n myenv python==3.10.0
source activate myenv
pip install pip==23.0
salloc -p wzidnormal -N 1 --gres==dcu:2
```