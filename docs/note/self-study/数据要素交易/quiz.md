
## Lec 01 数据市场要素概述

- A和B两个国家之间能产生贸易，是因为他们互相都不具备绝对优势（F）
- 在循环流量图中，企业是生产要素的卖者，家庭是生产要素的买者（F）
- 资金不属于资本生产要素
**简答题**：
已知A国和B国生产计算机和小麦的工作日数如下：
- A 国生产一单位计算机需要104工作日，生产一单位小麦需要4工作日
- B国生产一单位计算机需要60工作日，生产一单位小麦需要3工作日

（1）说明哪一国在生产计算机上具有比较有数，哪一国在生产小麦上具有比较优势，在分工的自由贸易中两国进出口的商品是什么
（2）两国贸易中，一单位计算机和多少单位的小麦进行交换是合理的范围

1. B国在生产计算机上具有比较优势，A国在生产小麦上具有比较优势，A出口小麦，进口计算机，B出口计算机，进口小麦 
2. A国生产1单位计算机的机会成本是26单位小麦，A国进口计算机的成本应该比自己生产的机会成本要低 B国生产1单位计算机的机会成本是20单位小麦，B国出口计算机的收益应该比自己生产的机会成本要高 1计算机交换20到26小麦

## Lec 02 datasec

**计算差分隐私**

age 的范围是(p,q)
![500](assets/Pasted%20image%2020250705204507.png)
$$
S(q)\geq |q(D)-q(D')|
$$
$$\eta = Lap(\frac{Sensitivity}{\varepsilon})$$
$$
Solution = q(D)+\eta
$$

![](assets/Pasted%20image%2020250705204647.png)

## Lec 03

![](assets/Pasted%20image%2020250705205641.png)
*答案：A*

![](assets/Pasted%20image%2020250705214652.png)

![](assets/Pasted%20image%2020250705214815.png)
把参与人每个策略对应的最优反应圈出来

![](assets/Pasted%20image%2020250705215310.png)
效用函数$\rightarrow$求偏导$\rightarrow$联立得到最优反应

## Lec 04
**画图**
![](assets/Pasted%20image%2020250705220043.png)
![](assets/Pasted%20image%2020250705220102.png)


**求解混合策略nash均衡**
![](assets/Pasted%20image%2020250705215841.png)
![](assets/Pasted%20image%2020250705215854.png)
![](assets/Pasted%20image%2020250705215907.png)
**写出五元组**
![](assets/Pasted%20image%2020250706092954.png)
参与人的类型集合$T_i = {H,L}$
类型的先验分布$p_H = \frac 1 2,p_L = \frac 1 2$
## Lec 05 合作博弈与数据估值

![](assets/Pasted%20image%2020250705220246.png)

两种方法计算shaply值

所有可能的排列下计算每个元素加入后贡献的期望

## Lec 7 拍卖与机制设计基础

![](assets/Pasted%20image%2020250706161802.png)

- 纯策略均衡，对称均衡， $b_i = \beta()$



好的，我们来根据您图片中提供的数据和公式计算沙普利值（Shapley Value）。

沙普利值用于在合作博弈中公平地分配总收益给各个参与者。其核心思想是，一个参与者应得的报酬等于其加入不同联盟时所带来的边际贡献的平均值。

博弈的参与者集合为 N={A,B,C}。

各个联盟（子集 S）的价值 v(S) 如下：

- v(∅)=0
    
- v({A})=17
    
- v({B})=15
    
- v({C})=18
    
- v({A,B})=35
    
- v({B,C})=36
    
- v({A,C})=38
    
- v({A,B,C})=56
    

我们将使用排列法（第一条公式）进行计算，该方法更直观。总共有 3!=6 种可能的排列顺序。

### 1. 计算 A 的沙普利值 (SVA​)

我们需要计算在所有6种排列中，A的边际贡献，然后求平均值。

|排列顺序|A加入前的联盟 (P)|A加入后的联盟 (P ∪ {A})|A的边际贡献 (v(P ∪ {A}) - v(P))|
|---|---|---|---|
|**A**, B, C|∅|{A}|v({A})−v(∅)=17−0=17|
|**A**, C, B|∅|{A}|v({A})−v(∅)=17−0=17|
|B, **A**, C|{B}|{A,B}|v({A,B})−v({B})=35−15=20|
|C, **A**, B|{C}|{A,C}|v({A,C})−v({C})=38−18=20|
|B, C, **A**|{B,C}|{A,B,C}|v({A,B,C})−v({B,C})=56−36=20|
|C, B, **A**|{B,C}|{A,B,C}|v({A,B,C})−v({B,C})=56−36=20|

A的总边际贡献 = 17+17+20+20+20+20=114

SVA​=6114​=19

---

### 2. 计算 B 的沙普利值 (SVB​)

|排列顺序|B加入前的联盟 (P)|B加入后的联盟 (P ∪ {B})|B的边际贡献 (v(P ∪ {B}) - v(P))|
|---|---|---|---|
|**B**, A, C|∅|{B}|v({B})−v(∅)=15−0=15|
|**B**, C, A|∅|{B}|v({B})−v(∅)=15−0=15|
|A, **B**, C|{A}|{A,B}|v({A,B})−v({A})=35−17=18|
|C, **B**, A|{C}|{B,C}|v({B,C})−v({C})=36−18=18|
|A, C, **B**|{A,C}|{A,B,C}|v({A,B,C})−v({A,C})=56−38=18|
|C, A, **B**|{A,C}|{A,B,C}|v({A,B,C})−v({A,C})=56−38=18|

B的总边际贡献 = 15+15+18+18+18+18=102

SVB​=6102​=17

---

### 3. 计算 C 的沙普利值 (SVC​)

|排列顺序|C加入前的联盟 (P)|C加入后的联盟 (P ∪ {C})|C的边际贡献 (v(P ∪ {C}) - v(P))|
|---|---|---|---|
|**C**, A, B|∅|{C}|v({C})−v(∅)=18−0=18|
|**C**, B, A|∅|{C}|v({C})−v(∅)=18−0=18|
|A, **C**, B|{A}|{A,C}|v({A,C})−v({A})=38−17=21|
|B, **C**, A|{B}|{B,C}|v({B,C})−v({B})=36−15=21|
|A, B, **C**|{A,B}|{A,B,C}|v({A,B,C})−v({A,B})=56−35=21|
|B, A, **C**|{A,B}|{A,B,C}|v({A,B,C})−v({A,B})=56−35=21|

C的总边际贡献 = 18+18+21+21+21+21=120

SVC​=6120​=20

---

### **计算结果**

- **A的沙普利值 (Shapley Value) = 19**
    
- **B的沙普利值 (Shapley Value) = 17**
    
- **C的沙普利值 (Shapley Value) = 20**
    

验证：

所有参与者沙普利值的总和应该等于大联盟的总价值。

SVA​+SVB​+SVC​=19+17+20=56

v({A,B,C})=56

两者相等，计算结果正确。



当然可以。第二种方法是组合法，它通过对一个成员加入不同规模的联盟所产生的边际贡献进行加权平均来计算沙普利值。

### 组合法公式

该公式的完整形式为：

SVi​(N;v)=n!1​S⊆N∖{i}∑​∣S∣!(n−∣S∣−1)!(v(S∪{i})−v(S))

其中：

- n 是总参与人数 (这里 n=3)。
    
- S 是一个不包含成员 i 的联盟。
    
- ∣S∣ 是联盟 S 的人数。
    
- ∣S∣!(n−∣S∣−1)! 是权重，代表成员 i 恰好在联盟 S 之后加入的排列数量。
    
- v(S∪{i})−v(S) 是成员 i 加入联盟 S 时带来的边际贡献。
    

我们将对每个参与者应用此公式。

---

### 1. 计算 A 的沙普利值 (SVA​)

我们需要考察所有不包含 A 的联盟 S，即 ∅,{B},{C},{B,C}。

- **当 S=∅ 时:**
    
    - ∣S∣=0。权重 = 0!(3−0−1)!=1⋅2!=2。
        
    - 边际贡献 = v({A})−v(∅)=17−0=17。
        
    - 加权贡献 = 2×17=34。
        
- **当 S={B} 时:**
    
    - ∣S∣=1。权重 = 1!(3−1−1)!=1⋅1!=1。
        
    - 边际贡献 = v({A,B})−v({B})=35−15=20。
        
    - 加权贡献 = 1×20=20。
        
- **当 S={C} 时:**
    
    - ∣S∣=1。权重 = 1!(3−1−1)!=1⋅1!=1。
        
    - 边际贡献 = v({A,C})−v({C})=38−18=20。
        
    - 加权贡献 = 1×20=20。
        
- **当 S={B,C} 时:**
    
    - ∣S∣=2。权重 = 2!(3−2−1)!=2⋅0!=2。
        
    - 边际贡献 = v({A,B,C})−v({B,C})=56−36=20。
        
    - 加权贡献 = 2×20=40。
        

A的总加权贡献 = 34+20+20+40=114。

SVA​=3!114​=6114​=19

---

### 2. 计算 B 的沙普利值 (SVB​)

我们需要考察所有不包含 B 的联盟 S，即 ∅,{A},{C},{A,C}。

- **当 S=∅ 时:**
    
    - ∣S∣=0。权重 = 0!(3−0−1)!=2。
        
    - 边际贡献 = v({B})−v(∅)=15−0=15。
        
    - 加权贡献 = 2×15=30。
        
- **当 S={A} 时:**
    
    - ∣S∣=1。权重 = 1!(3−1−1)!=1。
        
    - 边际贡献 = v({A,B})−v({A})=35−17=18。
        
    - 加权贡献 = 1×18=18。
        
- **当 S={C} 时:**
    
    - ∣S∣=1。权重 = 1!(3−1−1)!=1。
        
    - 边际贡献 = v({B,C})−v({C})=36−18=18。
        
    - 加权贡献 = 1×18=18。
        
- **当 S={A,C} 时:**
    
    - ∣S∣=2。权重 = 2!(3−2−1)!=2。
        
    - 边际贡献 = v({A,B,C})−v({A,C})=56−38=18。
        
    - 加权贡献 = 2×18=36。
        

B的总加权贡献 = 30+18+18+36=102。

SVB​=3!102​=6102​=17

---

### 3. 计算 C 的沙普利值 (SVC​)

我们需要考察所有不包含 C 的联盟 S，即 ∅,{A},{B},{A,B}。

- **当 S=∅ 时:**
    
    - ∣S∣=0。权重 = 0!(3−0−1)!=2。
        
    - 边际贡献 = v({C})−v(∅)=18−0=18。
        
    - 加权贡献 = 2×18=36。
        
- **当 S={A} 时:**
    
    - ∣S∣=1。权重 = 1!(3−1−1)!=1。
        
    - 边际贡献 = v({A,C})−v({A})=38−17=21。
        
    - 加权贡献 = 1×21=21。
        
- **当 S={B} 时:**
    
    - ∣S∣=1。权重 = 1!(3−1−1)!=1。
        
    - 边际贡献 = v({B,C})−v({B})=36−15=21。
        
    - 加权贡献 = 1×21=21。
        
- **当 S={A,B} 时:**
    
    - ∣S∣=2。权重 = 2!(3−2−1)!=2。
        
    - 边际贡献 = v({A,B,C})−v({A,B})=56−35=21。
        
    - 加权贡献 = 2×21=42。
        

C的总加权贡献 = 36+21+21+42=120。

SVC​=3!120​=6120​=20

### **计算结果**

使用第二种（组合）方法得到的结果与第一种方法完全一致：

- **A的沙普利值 = 19**
    
- **B的沙普利值 = 17**
    
- **C的沙普利值 = 20**