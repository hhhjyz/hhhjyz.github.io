
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="hhhjyz的笔记本">
      
      
        <meta name="author" content="hhhjyz">
      
      
        <link rel="canonical" href="https://hhhjyz.github.io/note/courses/Computer%20Architecture/Chapter%205/">
      
      
        <link rel="prev" href="../Chapter%204/">
      
      
        <link rel="next" href="../../AI/Chapter%202/">
      
      
      <link rel="icon" href="../../../../image/head.jpg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Chapter 5 - hhhjyz的笔记本</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../../../css/round.css">
    
      <link rel="stylesheet" href="../../../../css/extra.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-tc-webfont@1.0.0/style.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://fonts.loli.net/css2?family=Noto+Serif+SC&display=swap">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="brown" data-md-color-accent="brown">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dlp-and-tlp" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../../.." title="hhhjyz的笔记本" class="md-header__button md-logo" aria-label="hhhjyz的笔记本" data-md-component="logo">
      
  <img src="../../../../image/head.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            hhhjyz的笔记本
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chapter 5
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="brown" data-md-color-accent="brown"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hhhjyz/hhhjyz.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    hhhjyz/note
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../ads/Final/" class="md-tabs__link">
          
  
    
  
  课程笔记

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../self-study/d2l/1%20%E5%BC%95%E8%A8%80/" class="md-tabs__link">
          
  
    
  
  自学

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../use/" class="md-tabs__link">
        
  
    
  
  ZJU工具

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="hhhjyz的笔记本" class="md-nav__button md-logo" aria-label="hhhjyz的笔记本" data-md-component="logo">
      
  <img src="../../../../image/head.jpg" alt="logo">

    </a>
    hhhjyz的笔记本
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hhhjyz/hhhjyz.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    hhhjyz/note
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    课程笔记
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            课程笔记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    高级数据结构与算法分析
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            高级数据结构与算法分析
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/Final/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Review
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/Lec8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec8 Dynamic Programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/Lec%209/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec9 Greedy Algorithm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/Lec%2010/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec10 NP-Completeness
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/Lec11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec11 Approximation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/Lec%2012/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec12 Local Search
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/Lec14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec14 Parallel Algorithm
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    计算机组成
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            计算机组成
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../computer_organization/Chapter%201/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../computer_organization/Chapter%202/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../computer_organization/Chapter%204/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../computer_organization/Chapter%205/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../computer_organization/Chapter%206/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 6
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../physics/%E5%A4%A7%E7%89%A9%E5%AE%9E%E9%AA%8C%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    大学物理实验
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据库系统
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            数据库系统
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/chaper%201%20Introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chpater 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%202%20Relational%20Modeling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%203/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%204/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%205/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%206/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%207/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 7
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%208/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 8
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%209/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 9
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%2010/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 10
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%2011/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 11
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%2012/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 12
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%2013/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 13
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%2014/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 14
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database%20system/Chapter%2015/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 15
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" checked>
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    计算机体系结构
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            计算机体系结构
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter%201%20Fundamentals%20of%20computer%20design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter%202/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter%203/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter%204/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Chapter 5
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Chapter 5
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-simd-vector-processor" class="md-nav__link">
    <span class="md-ellipsis">
      1 SIMD: vector processor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 SIMD: vector processor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-vector-processor-scalar-processor" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Vector Processor &amp; Scalar Processor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-vector-processor-example-cray-1" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Vector Processor Example - Cray-1
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2 Vector Processor Example - Cray-1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-instruction-types-of-cray-1" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.1 Instruction Types of CRAY-1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-improve-the-performance-of-vector-processor" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.2 Improve the Performance of Vector Processor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-rv64v" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 RV64V
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-simd-array-processor" class="md-nav__link">
    <span class="md-ellipsis">
      2 SIMD: array processor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 SIMD: array processor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-distributed-memory" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Distributed memory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-centralized-shared-memory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Centralized shared memory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-parallel-computer-design" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Parallel computer design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-goal-of-interconnection-network" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Goal of interconnection network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-single-stage-interconnection-network" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Single-stage interconnection network
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.5 Single-stage interconnection network">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#251-cube" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.1 Cube
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#252-pm2i" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.2 PM2I
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#253-shuffle-exchange-network" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.3 Shuffle exchange network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#254-others" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.4 Others
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-multi-stage-interconnection-network" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Multi-stage interconnection network
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.6 Multi-stage interconnection network">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#261-switching-unit" class="md-nav__link">
    <span class="md-ellipsis">
      2.6.1 Switching unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#262-multi-stage-cube-interconnection-network" class="md-nav__link">
    <span class="md-ellipsis">
      2.6.2 Multi-stage cube interconnection network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#263-multi-stage-shuffle-exchange-network" class="md-nav__link">
    <span class="md-ellipsis">
      2.6.3 Multi-stage shuffle exchange network
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-dlp-in-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      3 DLP in GPU
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 DLP in GPU">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-programming-the-gpu-cuda" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Programming the GPU: CUDA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-grid-thread-blocks-and-threads" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Grid, Thread Blocks and Threads
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-gpu-memory-structures" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 GPU memory structures
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-loop-level-parallelism-llp" class="md-nav__link">
    <span class="md-ellipsis">
      4 Loop-Level Parallelism (LLP)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-mimd-tread-level-parallelism" class="md-nav__link">
    <span class="md-ellipsis">
      5 MIMD: Tread-level Parallelism
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 MIMD: Tread-level Parallelism">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-shared-memory-system" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Shared Memory System
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-message-passing-system" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Message Passing System
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-mimd-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 MIMD Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.3 MIMD Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531-uma" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.1 UMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#532-numa" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.2 NUMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#533-coma" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.3 COMA
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-cache-coherence" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 Cache Coherence
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4 Cache Coherence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#snoopy-coherence-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      Snoopy Coherence Protocols
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    人工智能
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            人工智能
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AI/Chapter%202/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AI/Chapter%203/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AI/Chapter%204/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AI/Chapter%205/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AI/Chapter%206/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 6
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    面向对象程序设计
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            面向对象程序设计
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Lecture%203%20class/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Lecture%204/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Lecture%205/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Lecture%206/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Lecture%208%20Stream/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec8
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Lecture%209%20Exception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec9
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter%2010/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec10
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    自学
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            自学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    dive into deep learning
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            dive into deep learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self-study/d2l/1%20%E5%BC%95%E8%A8%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.引言
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    工具
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            工具
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self-study/tools/conda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    conda
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../use/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ZJU工具
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-simd-vector-processor" class="md-nav__link">
    <span class="md-ellipsis">
      1 SIMD: vector processor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 SIMD: vector processor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-vector-processor-scalar-processor" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Vector Processor &amp; Scalar Processor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-vector-processor-example-cray-1" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Vector Processor Example - Cray-1
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2 Vector Processor Example - Cray-1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-instruction-types-of-cray-1" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.1 Instruction Types of CRAY-1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-improve-the-performance-of-vector-processor" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.2 Improve the Performance of Vector Processor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-rv64v" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 RV64V
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-simd-array-processor" class="md-nav__link">
    <span class="md-ellipsis">
      2 SIMD: array processor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 SIMD: array processor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-distributed-memory" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Distributed memory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-centralized-shared-memory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Centralized shared memory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-parallel-computer-design" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Parallel computer design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-goal-of-interconnection-network" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Goal of interconnection network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-single-stage-interconnection-network" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Single-stage interconnection network
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.5 Single-stage interconnection network">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#251-cube" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.1 Cube
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#252-pm2i" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.2 PM2I
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#253-shuffle-exchange-network" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.3 Shuffle exchange network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#254-others" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.4 Others
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-multi-stage-interconnection-network" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Multi-stage interconnection network
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.6 Multi-stage interconnection network">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#261-switching-unit" class="md-nav__link">
    <span class="md-ellipsis">
      2.6.1 Switching unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#262-multi-stage-cube-interconnection-network" class="md-nav__link">
    <span class="md-ellipsis">
      2.6.2 Multi-stage cube interconnection network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#263-multi-stage-shuffle-exchange-network" class="md-nav__link">
    <span class="md-ellipsis">
      2.6.3 Multi-stage shuffle exchange network
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-dlp-in-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      3 DLP in GPU
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 DLP in GPU">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-programming-the-gpu-cuda" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Programming the GPU: CUDA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-grid-thread-blocks-and-threads" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Grid, Thread Blocks and Threads
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-gpu-memory-structures" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 GPU memory structures
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-loop-level-parallelism-llp" class="md-nav__link">
    <span class="md-ellipsis">
      4 Loop-Level Parallelism (LLP)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-mimd-tread-level-parallelism" class="md-nav__link">
    <span class="md-ellipsis">
      5 MIMD: Tread-level Parallelism
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 MIMD: Tread-level Parallelism">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-shared-memory-system" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Shared Memory System
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-message-passing-system" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Message Passing System
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-mimd-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 MIMD Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.3 MIMD Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531-uma" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.1 UMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#532-numa" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.2 NUMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#533-coma" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.3 COMA
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-cache-coherence" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 Cache Coherence
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4 Cache Coherence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#snoopy-coherence-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      Snoopy Coherence Protocols
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="dlp-and-tlp">DLP and TLP<a class="headerlink" href="#dlp-and-tlp" title="Permanent link">&para;</a></h1>
<p><img alt="" src="../assets/Chapter%205/file-20250506131837061.png" /></p>
<p>在其中设置了矢量数据表示和相应矢量指令的流水线处理器称为vector processor, 对应没有的则被称为scalar processor</p>
<h2 id="1-simd-vector-processor">1 SIMD: vector processor<a class="headerlink" href="#1-simd-vector-processor" title="Permanent link">&para;</a></h2>
<p>vector pipeline的特点：</p>
<ul>
<li>The elements in the vector are <strong>rarely correlated</strong> during operations. vector中的元素在执行时相互不关联</li>
<li>
<p>Improper vector handling can also cause related problem and frequent function switching;</p>
</li>
<li>
<p>SIMD architectures can exploit significant data-level parallelism</p>
<ul>
<li>Matrix-oriented scientific computing</li>
<li>Media-oriented image and sound processors</li>
</ul>
</li>
<li>
<p>SIMD is more energy efficient than MIMD</p>
</li>
<li>SIMD allows programmer to continue to think sequentially</li>
</ul>
<h3 id="11-vector-processor-scalar-processor">1.1 Vector Processor &amp; Scalar Processor<a class="headerlink" href="#11-vector-processor-scalar-processor" title="Permanent link">&para;</a></h3>
<p>Problems to be solved by vector pipeline processing:
如何处理向量和arrays中的数据,来最大化流水线的效率</p>
<ul>
<li>A pipeline processor, in which the vector data representation and the corresponding vector instructions are set, is called the <strong>vector processor</strong>.</li>
<li>A pipeline processor that does not have vector data representation and corresponding vector instructions is called a <strong>scalar processor</strong>.</li>
</ul>
<p>在其中设置了矢量数据表示和相应矢量指令的流水线处理器称为vector processor, 对应没有的则被称为scalar processor</p>
<p>通常有三种处理模式：</p>
<ul>
<li>
<p>Horizontal processing method</p>
<ul>
<li>
<p>Vector calculations are performed horizontally from left to right in a row.</p>
<p>横向计算，从左到右，逐个计算出后再进行下一行。
时间并行：将向量中的元素按照顺序逐个送入单元进行计算</p>
</li>
<li>
<p>Problems with horizontal processing:</p>
<ul>
<li>When calculating each component, <em>RAW</em> correlation occurs, and the <em>pipeline efficiency is low</em>.</li>
<li>
<p>If a static multi-functional pipeline is used, the pipeline must be switched frequently; the throughput  of the pipeline is lower than that of sequential serial execution.</p>
<p>如果是静态的多功能流水线，我们每次都要排空才能进行下一次运算，这样的效率很低。</p>
</li>
<li>
<p>The horizontal processing method is not suitable for vector processors.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Vertical processing method</p>
<p>The vector calculation is performed vertically from top to bottom in a column 
manner.从顶到底进行计算</p>
<p>Data related: 1 times Function switching: 2 times</p>
<p>Requirements for processor structure: <strong>memory-memory structure</strong></p>
<p>源向量和目标向量，存储在内存中，处理器不会预先将所有数据加载到寄存器。操作的中间结果也需要发送回内存</p>
<p><img alt="alt text" src="../assets/image-48.png" /></p>
<p>•The source vector and destination vector of the vector instruction are stored in the memory, and the intermediate result of the operation needs to be sent back to the memory.</p>
</li>
<li>
<p>Horizontal and vertical processing method(group processing method)</p>
<ul>
<li>Requirements for Processor Structure: Register - Register structure</li>
<li>设置可快速访问的向量寄存器，以存储源向量、目标向量和中间结果，使算术分量的输入端和输出端与向量寄存器连接，形成寄存器-寄存器类型的作流水线。</li>
</ul>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>D = A <span class="arithmatex">\(\times\)</span> (B + C) A, B, C, D ── vector of length N</p>
<ul>
<li>
<p>Horizontal processing method</p>
<p>先计算 <span class="arithmatex">\(d_1\leftarrow a_1\times(b_1 +c_1)\)</span>，再计算 <span class="arithmatex">\(d_2\leftarrow a_2\times(b_2 +c_2)\)</span>，以此类推。写作循环可以写作：</p>
<div class="arithmatex">\[
\begin{aligned}
k_i &amp; \leftarrow b_i+c_i\\
d_i &amp; \leftarrow a_i \times k_i
\end{aligned}
\]</div>
<p>循环里的两个语句存在数据相关。因此有 N 个数据相关，需要进行 2N 次功能切换。</p>
</li>
<li>
<p>Vertical processing method</p>
<p>先计算加法，B+C 得到一个向量 K，再计算乘法，A*K 得到 D。</p>
<div class="arithmatex">\[
\begin{aligned}
K &amp; \leftarrow B + C\\
D&amp; \leftarrow A\times K
\end{aligned}
\]</div>
<p>这里只有 1 个数据相关，2 次功能切换。</p>
</li>
<li>
<p>Horizontal and vertical processing method</p>
<p>如果 N 太大了，我们不能用一个向量来直接装下所有数据，就需要多次运算。假设 <span class="arithmatex">\(N=S\times n +r\)</span>，即我们把 N 个数据分成了 S 组，每组有 n 个数据，最后一组有 r 个数据。组内做纵向运算，组间做横向运算。</p>
<p>Data Related: S+1 Function Switching: 2(S+1)</p>
</li>
</ul>
</div>
<h3 id="12-vector-processor-example-cray-1">1.2 Vector Processor Example - Cray-1<a class="headerlink" href="#12-vector-processor-example-cray-1" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../assets/Chapter%205/file-20250506144350086.png" /></p>
<p>有 8 个向量寄存器，每组向量寄存器有 64 位。有 12 条单功能流水线，可以并行工作。
<img alt="" src="../assets/Chapter%205/file-20250506144444352.png" /></p>
<p>Each vector register Vi has a separate bus connected to 6 vector functional units.</p>
<p>每个矢量函数单元还具有一条总线，该总线将作结果返回到矢量寄存器总线。</p>
<p>只要没有 Vi 冲突和功能冲突，每个 Vi 和每个功能单元都可以并行工作，大大加快了向量指令的处理速度。</p>
<p>不同的功能需要的拍数不同。</p>
<p>向量的指令也是可能存在相关性：  </p>
<ul>
<li>
<p><strong>Vi conflict</strong>: The source vector or result vector of each vector instruction working in parallel uses the same Vi.</p>
<p>当向量寄存器有依赖的时候，后续指令要在前面指令的结果出来之后再执行。这里并不是等前面的向量的每一个元素都计算完，而是等前面的向量的第一个元素计算完就开始计算第一个元素的后续指令，等第二个元素计算完就开始计算第二个元素的后续指令，以此类推。</p>
<ul>
<li>
<p>Writing and reading data related</p>
<div class="arithmatex">\[
\begin{aligned}
V0 &amp; \leftarrow V1+V2\\
V3&amp; \leftarrow V0\times V4
\end{aligned}
\]</div>
</li>
<li>
<p>Reading data related</p>
<div class="arithmatex">\[
\begin{aligned}
V0 &amp; \leftarrow V1+V2\\
V3&amp; \leftarrow V4\times V0
\end{aligned}
\]</div>
</li>
</ul>
</li>
<li>
<p><strong>Functional conflict</strong>: Each vector instruction working in parallel must use the same functional unit.</p>
<div class="arithmatex">\[
\begin{aligned}
V3 &amp; \leftarrow V1\times V2\\
V5&amp; \leftarrow V4\times V6
\end{aligned}
\]</div>
<p>如果我们只有一个乘法部件，就会有结构冲突。我们只能等前一条指令全部完成（最后一个元素做完才可以），才能开始下一条指令。</p>
</li>
</ul>
<h4 id="121-instruction-types-of-cray-1">1.2.1 Instruction Types of CRAY-1<a class="headerlink" href="#121-instruction-types-of-cray-1" title="Permanent link">&para;</a></h4>
<p><img alt="" src="../assets/Chapter%205/file-20250506145338018.png" /></p>
<p>向量加法需要 6 拍；乘法需要 7 拍；读写需要 6 拍。</p>
<h4 id="122-improve-the-performance-of-vector-processor">1.2.2 Improve the Performance of Vector Processor<a class="headerlink" href="#122-improve-the-performance-of-vector-processor" title="Permanent link">&para;</a></h4>
<ul>
<li>Set up multiple functional units and make them work in parallel.设置多个功能部件使其并行工作</li>
<li>Use <strong>link technology</strong> to speed up the execution of a string of vector instructions.使用向量链接技术</li>
<li>Adopt <strong>recycling mining technology</strong> to speed up recycling processing.使用循环挖掘基础来加速寻出处理。</li>
<li>Using a <strong>multi-processor system</strong> to further improve the performance.使用多处理器系统进一步提高性能</li>
</ul>
<p><strong>1. Set up multiple functional units and make them work in parallel:</strong>
    比如 CRAY-1 vector processor 有四组 12个单功能流水线部件：
    - Vector components
    - Floating point components
    - Scalar components
    - Address calculation components</p>
<p><strong>2.Use link technology to speed up the execution of a string of a string of vector instruction:</strong></p>
<p>Link feature: It has two related instructions that are written first and then read. In the case of no conflicts between functional components and source vector conflicts, functional components can be linked for pipeline processing to achieve the purpose of speeding up execution.  </p>
<p>链接特性：它有两个相关的指令，先写入然后读取。在功能部件和源向量没有冲突的情况下，功能部件可以被链接起来进行流水线处理，以达到加速执行的目的。</p>
<p>如果我们有两条指令，第一条指令的结果是第二条指令的输入，那么我们就可以把这两条指令链接起来，这样就可以减少一次读写的时间。</p>
<div class="admonition example">
<p class="admonition-title">Use link technology to perform vector operations on CRAY-1</p>
<p>D = A <span class="arithmatex">\(\times\)</span> (B + C) A, B, C, D ── vector of length N，假设 <span class="arithmatex">\(N\leq 64\)</span>，均为浮点数，B 和 C 已经被存在 V0 和 V1 中。</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">V3</span><span class="w"> </span><span class="err">&lt;</span><span class="p">-</span><span class="w"> </span><span class="no">memory</span><span class="w">    </span><span class="c1">// access vector A</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nf">V2</span><span class="w"> </span><span class="err">&lt;</span><span class="p">-</span><span class="w"> </span><span class="no">V0</span><span class="w"> </span><span class="err">＋</span><span class="w"> </span><span class="no">V1</span><span class="w">  </span><span class="c1">// Vector B and Vector C perform floating point addition</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nf">V4</span><span class="w"> </span><span class="err">&lt;</span><span class="p">-</span><span class="w"> </span><span class="no">V2</span><span class="w"> </span><span class="p">*</span><span class="w"> </span><span class="no">V3</span><span class="w">   </span><span class="c1">// Floating point multiplication, the result is stored in V4</span>
</code></pre></div>
这里前两条指令没有冲突，可以并行完成。第三条指令需要等前两条指令完成，存在 RAW，不能并行但可以链接。</p>
<p>这里假设把数据从寄存器送到功能部件需要一拍，功能部件的结果写回到寄存器也需要一拍。把数据从内存送到 fetch function unit 需要一拍。
<div align = center><img src="https://cdn.hobbitqia.cc/20231215201205.png" width=70%></div></p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>计算下面的指令，假设三条指令串行执行；1 和 2 并行执行后执行 3；使用 link 技术，这三种情况下的拍数。
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nf">V3</span><span class="w"> </span><span class="err">&lt;</span><span class="p">-</span><span class="w"> </span><span class="no">A</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nf">V2</span><span class="w"> </span><span class="err">&lt;</span><span class="p">-</span><span class="w"> </span><span class="no">V0</span><span class="w"> </span><span class="err">+</span><span class="w"> </span><span class="no">V1</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nf">V4</span><span class="w"> </span><span class="err">&lt;</span><span class="p">-</span><span class="w"> </span><span class="no">V2</span><span class="w"> </span><span class="p">*</span><span class="w"> </span><span class="no">V3</span>
</code></pre></div>
注意到向量功能内部也是流水的。</p>
<ul>
<li>
<p>The execution time using serial method. </p>
<p>经过 8 拍 V0 的第一个元素到达 V2，那么再过 (N-1) 拍 V0 的最后一个元素就会到达 V2。因此总共需要 [(1+6+1)+N-1] + [(1+6+1)+N-1] + [(1+7+1)+N-1] = 3N+22 拍。</p>
</li>
<li>
<p>The first two instructions are parallel, and the third is serial.</p>
<p>max{[(1+6+1)+N-1], [(1+6+1)+N-1]} + [(1+7+1)+N-1] = 2N+15</p>
</li>
<li>
<p>Use link technology.</p>
<p>我们只需要知道 V4 的第一个结果多久可以出来：8+1+7+1=9 拍，随后还有 (N-1) 条指令，因此总共需要的拍数为 max{(1+6+1), (1+6+1)} + (1+7+1)+N-1 = N+16.</p>
</li>
</ul>
</div>
</div>
<h3 id="13-rv64v">1.3 RV64V<a class="headerlink" href="#13-rv64v" title="Permanent link">&para;</a></h3>
<div align = center><img src="https://cdn.hobbitqia.cc/20231215204125.png" width=70%></div>

<ul>
<li>Loosely based on Cray-1</li>
<li>32 62-bit vector registers<ul>
<li>Register file has 16 read ports and 8 write ports</li>
</ul>
</li>
<li>Vector functional units<ul>
<li>Fully pipelined</li>
<li>Data and control hazards are detected</li>
</ul>
</li>
<li>Vector load-store unit<ul>
<li>Fully pipelined</li>
<li>One word per clock cycle after initial latency</li>
</ul>
</li>
<li>Scalar registers<ul>
<li>31 general-purpose registers</li>
<li>32 floating-point registers</li>
</ul>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">DAXPY (Double Precision a*X plus Y)</p>
<p><div align = center><img src="https://cdn.hobbitqia.cc/20231215204216.png" width=70%></div></p>
</div>
<!-- ### Multiple Lanes: Beyond One Element per Clock Cycle

每个时钟周期可以处理多个元素。
<div align = center><img src="https://cdn.hobbitqia.cc/20231215204443.png" width=70%></div> -->

<h2 id="2-simd-array-processor">2 SIMD: array processor<a class="headerlink" href="#2-simd-array-processor" title="Permanent link">&para;</a></h2>
<p>N processing elements <span class="arithmatex">\(PE_0\)</span> to <span class="arithmatex">\(PE_{N-1}\)</span> are repeatedly set.</p>
<p>不同的阵列需要互相通信以连接。</p>
<div class="admonition example">
<p class="admonition-title">ILLIAC IV</p>
<p><div align = center><img src="https://cdn.hobbitqia.cc/20231215205010.png" width=70%></div></p>
</div>
<p>According to the composition of the memory in the system, the <strong>array processor</strong> can be divided into two basic structures:</p>
<ul>
<li>Distributed memory</li>
<li>Centralized shared memory</li>
</ul>
<h3 id="21-distributed-memory">2.1 Distributed memory<a class="headerlink" href="#21-distributed-memory" title="Permanent link">&para;</a></h3>
<div align = center><img src="https://cdn.hobbitqia.cc/20231215205259.png" width=70%></div>

<p>PE 代表处理器，PEN 是其对应的内存，ICN 是一个内部的互联网络。</p>
<h3 id="22-centralized-shared-memory">2.2 Centralized shared memory<a class="headerlink" href="#22-centralized-shared-memory" title="Permanent link">&para;</a></h3>
<div align = center><img src="https://cdn.hobbitqia.cc/20231215205336.png" width=70%></div>

<p>网络之间会通过拓扑结构设计谁和谁联通。</p>
<h3 id="23-parallel-computer-design">2.3 Parallel computer design<a class="headerlink" href="#23-parallel-computer-design" title="Permanent link">&para;</a></h3>
<p>The communication architecture of the parallel computer is the core of the system.</p>
<p>如果我们想让任何两个处理器都互相连接，如果都是直连，那么需要 $C_n^2 $ 个连接。</p>
<p><strong>Definition</strong>: A network composed of switching units according to a certain topology and control mode to realize the interconnection between multiple processors or multiple functional components within a computer system.<br />
网络中的节点代表一个处理器单元，每条边就代表一个连接。连接的通路越短就认为效率越高。</p>
<p>连接的东西包括 CPU，内存，接口，link and switch node。</p>
<ul>
<li><strong>Interface</strong>: It is a device that obtains information from CPU and memory and sends information to another CPU and memory. Typical devices are network interface cards.</li>
<li><strong>Link</strong>: A physical channel to transmit data bits. The link can be a cable, twisted pair or optical fiber, it can be serial or parallel, and each link has its maximum bandwidth. The link can be simplex half-duplex and full-duplex, the clock mechanism used by the link can be synchronous or asynchronous.</li>
<li><strong>Switch node</strong>: It is the information exchange and control station of the interconnected network. It is a device with multiple input ports and multiple output ports which is able to perform data buffer storage and path selection.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Some key points</p>
<ul>
<li>
<ul>
<li>
<p>Static topology</p>
<p>静态网络：网络设定好后节点和边的连接方式就确定下来。</p>
</li>
</ul>
<p>Topology of interconnection network</p>
<ul>
<li>
<p>Dynamic topology</p>
<p>动态网络：网络由很多开关组成，网络的连接方式会变化，如交叉开关我们拨动之后两个点的连接改变。</p>
</li>
</ul>
</li>
<li>
<p>Timing mode of interconnection network</p>
<ul>
<li>Synchronization system: Use a unified clock. Such as SIMD array processor</li>
<li>Asynchronous system: No uniform clock. Each processor in the system works independently</li>
</ul>
</li>
<li>Exchange method of interconnection network<ul>
<li>Circuit switching</li>
<li>Packet switching</li>
</ul>
</li>
<li>Control Strategy of interconnection network<ul>
<li>Centralized control mode: have a global controller</li>
<li>Distributed control mode: no global controller</li>
</ul>
</li>
</ul>
</div>
<h3 id="24-goal-of-interconnection-network">2.4 Goal of interconnection network<a class="headerlink" href="#24-goal-of-interconnection-network" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Single-stage interconnection network</strong>: There are only a limited number of connections at the only level to realize information transmission between any two processing units.</p>
<p>单级网络，一个 PE 和另一个 PE 连在一起。</p>
</li>
<li>
<p><strong>Multi-stage interconnection network</strong>: It is composed of multiple single-level networks in series to realize the connection between any two processing units.</p>
<p>多级网络。</p>
</li>
</ul>
<p>N 个入端和 N 个出端会建立一个映射关系 <span class="arithmatex">\(j \leftrightarrow f(j)\)</span>。</p>
<h3 id="25-single-stage-interconnection-network">2.5 Single-stage interconnection network<a class="headerlink" href="#25-single-stage-interconnection-network" title="Permanent link">&para;</a></h3>
<h4 id="251-cube">2.5.1 Cube<a class="headerlink" href="#251-cube" title="Permanent link">&para;</a></h4>
<p>假设有 N 个入端和出端，表示为 <span class="arithmatex">\(P_{n-1}\ldots P_1P_0\)</span>。</p>
<p>这里有 n 个不同的互联函数：（对第 i 位取反）</p>
<div class="arithmatex">\[
Cube_i(P_{n-1}\ldots P_1P_0)=P_{n-1}\ldots \overline{P_i}\ldots P_1P_0
\]</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div align = center><img src="https://cdn.hobbitqia.cc/20231215211043.png" width=70%></div>
<div align = center><img src="https://cdn.hobbitqia.cc/20231215211123.png" width=70%></div>
<div align = center><img src="https://cdn.hobbitqia.cc/20231215211141.png" width=70%></div></p>
</div>
<div align = center><img src="https://cdn.hobbitqia.cc/20231215213606.png" width=70%></div>

<p>3D Cube 里，任意两个点最远需要 3 步。对于 N 维的 Cube，任意两个点最远需要 <span class="arithmatex">\(\log_2(N)\)</span> 步。</p>
<h4 id="252-pm2i">2.5.2 PM2I<a class="headerlink" href="#252-pm2i" title="Permanent link">&para;</a></h4>
<p><strong>PM2I (Plus Minus 2i)</strong> single-stage network</p>
<div class="arithmatex">\[
PM2_{+i}(j)=(j+2^i)\mod N, PM2_{-i}(j)=(j-2^i)\mod N
\]</div>
<p>实际上这里只有 <span class="arithmatex">\(2\log_2(N)-1\)</span> 个不同的函数，因为 <span class="arithmatex">\(PM2_{+\log_2(N)}\)</span> 与 <span class="arithmatex">\(PM2_{-\log_2(N)}\)</span> 是一样的。</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>Example: N = 8
<div align = center><img src="https://cdn.hobbitqia.cc/20231215214203.png" width=70%></div></p>
<p>任意两点最短的互联距离是 2。（0 可以一步到 1、2、4、6、7，再过一步可以到 3、5）</p>
</div>
<h4 id="253-shuffle-exchange-network">2.5.3 Shuffle exchange network<a class="headerlink" href="#253-shuffle-exchange-network" title="Permanent link">&para;</a></h4>
<p>Composed of two parts: <strong>Shuffle</strong> + <strong>Exchange</strong></p>
<p>N-dimension shuffle function:</p>
<div class="arithmatex">\[
shuffle(P_{n-1}\ldots P_1P_0)=P_{n-2}\ldots P_1P_0P_{n-1}
\]</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>可以看到这里 000 和 111 并没有与其他点连接，因此我们需要有更多的操作。
<div align = center><img src="https://cdn.hobbitqia.cc/20231215215302.png" width=70%></div></p>
</div>
<p>可以看到经过 3 次 shuffle 后其他点都回到了原来的位置，但是 000 和 111 还是没有连接。因此我们在此的基础上加上 exchange 的连线（红色是通过 <span class="arithmatex">\(cube_0\)</span> 实现的）。</p>
<div align = center><img src="https://cdn.hobbitqia.cc/20231215215546.png" width=70%></div>

<p>在这里任意两个节点相连最多需要 5 步，3 exchanges + 2 shuffles.</p>
<p>The maximum distance of shuffle exchange network: (from the nodes numbered all “0” to all “1”) n exchanges and n-1 shuffles, maximum distance: 2n-1</p>
<p>中间节点的距离较短，效率高，除了从全 0 到全 1 的距离远。</p>
<h4 id="254-others">2.5.4 Others<a class="headerlink" href="#254-others" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Linear array</p>
<p>开销低，但是每个点都是关键节点，一旦出现故障就会影响整个系统。
<div align = center><img src="https://cdn.hobbitqia.cc/20231215220123.png" width=20%></div>   </p>
</li>
<li>
<p>Circular array</p>
<p><div align = center><img src="https://cdn.hobbitqia.cc/20231215220149.png" width=20%></div></p>
<p>可以在点上加一些弦。
<div align = center><img src="https://cdn.hobbitqia.cc/20231215220232.png" width=20%></div></p>
</li>
<li>
<p>Tree array</p>
<p><div align = center><img src="https://cdn.hobbitqia.cc/20231215220255.png" width=20%></div></p>
<p>可以拓展为带环的树（Tree with loop）、Binary fat tree
<div align = center><img src="https://cdn.hobbitqia.cc/20231215220325.png" width=20%></div></p>
</li>
<li>
<p>Star array</p>
<p>安全性较差，中间的节点非常重要。
<div align = center><img src="https://cdn.hobbitqia.cc/20231215220351.png" width=20%></div></p>
</li>
<li>
<p>Grid</p>
<p>在 GPU 中广泛使用。
<div align = center><img src="https://cdn.hobbitqia.cc/20231215220416.png" width=20%></div></p>
<p>可以拓展为 2D torus</p>
<p><div align = center><img src="https://cdn.hobbitqia.cc/20231215220521.png" width=20%></div></p>
</li>
<li>
<p>Hypercube</p>
<p><div align = center><img src="https://cdn.hobbitqia.cc/20231215220544.png" width=20%></div></p>
<p>Cube 也可以加上环（Cube with loop）
<div align = center><img src="https://cdn.hobbitqia.cc/20231215220615.png" width=20%></div></p>
</li>
</ul>
<div align = center><img src="https://cdn.hobbitqia.cc/20231215220453.png" width=70%></div>

<p>注意到这些都是静态网络。</p>
<h3 id="26-multi-stage-interconnection-network">2.6 Multi-stage interconnection network<a class="headerlink" href="#26-multi-stage-interconnection-network" title="Permanent link">&para;</a></h3>
<p>通过交叉开关可以实现动态的网络。（根据传过来的信号决定开关是开还是关）</p>
<p>开关也有多种控制方式，可以每个开关都有自己的控制器，可以有一个全局的控制，也可以分级开关，每一级是一样的。</p>
<p>双功能开关不能满足我们的需求，因此我们会有下面这样的交叉开关：</p>
<div align = center><img src="https://cdn.hobbitqia.cc/20231215222024.png" width=30%></div>

<p>常用的办法是级控制，每一级的开关是一样的。</p>
<div align = center><img src="https://cdn.hobbitqia.cc/20231215222115.png" width=70%></div>

<p>不同的多级网络，他们的拓扑结构、交换方式（交叉开关）、控制方式可能不一样。</p>
<h4 id="261-switching-unit">2.6.1 Switching unit<a class="headerlink" href="#261-switching-unit" title="Permanent link">&para;</a></h4>
<p>A switching unit with two inputs and two outputs is the basic component of various multi-level interconnection networks.</p>
<p>The statuses of switching unit:</p>
<ul>
<li>Straight</li>
<li>Exchange</li>
<li>Upper broadcast</li>
<li>Lower broadcast</li>
</ul>
<p>随着端口增加，这里可以有其他的开关单元，如 multicast 即组播，分组广播。</p>
<h4 id="262-multi-stage-cube-interconnection-network">2.6.2 Multi-stage cube interconnection network<a class="headerlink" href="#262-multi-stage-cube-interconnection-network" title="Permanent link">&para;</a></h4>
<p>这里假设</p>
<ul>
<li>
<p>Switch unit: two-function switch unit</p>
<p>在立方体里，我们只需要双功能开关。即 straight 和 exchange 即可。</p>
</li>
<li>
<p>Control mode: stage, part stage and unit control</p>
</li>
<li>Topology: cube structure</li>
</ul>
<p>那么 N 个输入，我们需要 <span class="arithmatex">\(n=\log_2N\)</span> 级，每一级需要 <span class="arithmatex">\(N/2\)</span> 的交叉开关。</p>
<div class="admonition example">
<p class="admonition-title">Three-stage cube interconnection network</p>
<p>下面图是一个静态的拓扑结构，中间的布线是三级 cube 网络静态拓扑图，但是开关是可以变化的，因此变成动态了。本身的连线是静态的。
<div align = center><img src="https://cdn.hobbitqia.cc/20231215222827.png" width=70%></div></p>
<p>我们把 012 的控制信号进行排列组合，可以得到 8 种不同的控制信号，会得到不同的网络。<br />
这里我们改变三级开关的状态（0 表示 connect，1 表示 exchange），最左侧表示入端，表格中间是对应控制信号下的网络出端。
<div align = center><img src="https://cdn.hobbitqia.cc/20231215223509.png" width=70%></div></p>
<p>通过状态也可以反推出控制信号。</p>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>假设现在有 16 个处理器，我们要实现的是先对四组做 4 个元素的交换，再对两组做 8 个元素的交换，最后做一组 16 个元素的交换。
<div align = center><img src="https://cdn.hobbitqia.cc/20231216003549.png" width=60%></div></p>
<p>对每一个端口，经过的操作是一样的，因此我们可以写出来这个函数</p>
<div class="arithmatex">\[
f(P_3P_2P_1P_0)=\overline{P_3} P_2\overline{P_1}P_0
\]</div>
<p>我们可以通过函数反推出每级的控制信号。
<div align = center><img src="https://cdn.hobbitqia.cc/20231216003718.png" width=60%></div></p>
</div>
<h4 id="263-multi-stage-shuffle-exchange-network">2.6.3 Multi-stage shuffle exchange network<a class="headerlink" href="#263-multi-stage-shuffle-exchange-network" title="Permanent link">&para;</a></h4>
<p>Multi-level shuffle exchange network is also called <strong>Omega network</strong>.</p>
<ul>
<li>
<p>The switch function has four functions</p>
<p>四功能开关。（与立方体网络不同）</p>
</li>
<li>
<p>The topological structure is shuffled topology followed by a four function switch</p>
</li>
<li>Control mode is unit control</li>
</ul>
<p>是立方体网络的逆网络。</p>
<div align = center><img src="https://cdn.hobbitqia.cc/20231216004016.png" width=60%></div>

<div class="admonition info">
<p class="admonition-title">Similarity between omega and cube</p>
<p>如果我们限定 omega 网络的开关也只能用直连和交换两种功能，那么可以看到 omega 网络就是立方体网络的逆网络。
<div align = center><img src="https://cdn.hobbitqia.cc/20231216004131.png" width=70%></div></p>
</div>
<div class="admonition info">
<p class="admonition-title">Difference between omega and cube</p>
<ul>
<li>The level of Omega network data flow: n-1, n-2,..., 1, 0.<br />
The level of n-cube network data flow: 0, 1,..., n-1.</li>
<li>The Omega network uses a <em>four-function</em> exchange unit.<br />
The n-cube network uses a <em>two-function</em> exchange unit.</li>
<li>Omega network can realize <em>one-to-many broadcasting</em> function.<br />
N-cube network cannot achieve.</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>任意一个节点可以传到所有出端。
<div align = center><img src="https://cdn.hobbitqia.cc/20231216004406.png" width=70%></div></p>
<p>对于 cube 网络，他无法同时实现 5-0 和 7-1，但 omega 可以。</p>
</div>
<div align = center><img src="https://cdn.hobbitqia.cc/20231216004530.png" width=70%></div>

<h2 id="3-dlp-in-gpu">3 DLP in GPU<a class="headerlink" href="#3-dlp-in-gpu" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><em>Heterogeneous</em> execution model</p>
<ul>
<li>CPU is the host, GPU is the device</li>
</ul>
</li>
<li>
<p>Unify all forms of GPU parallelism as <strong>CUDA thread</strong></p>
</li>
<li>Programming model is “<strong>Single Instruction Multiple Thread</strong>”</li>
</ul>
<p><strong>GPUs are really just multithreaded SIMD Processors</strong>.</p>
<h3 id="31-programming-the-gpu-cuda">3.1 Programming the GPU: CUDA<a class="headerlink" href="#31-programming-the-gpu-cuda" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>CUDA</strong>: Compute Unified Device Architecture</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div align = center><img src="https://cdn.hobbitqia.cc/20231216005033.png" width=70%></div></p>
</div>
<h3 id="32-grid-thread-blocks-and-threads">3.2 Grid, Thread Blocks and Threads<a class="headerlink" href="#32-grid-thread-blocks-and-threads" title="Permanent link">&para;</a></h3>
<ul>
<li>A <strong>thread</strong> is associated with each data element</li>
<li>Threads are organized into <strong>blocks</strong></li>
<li>Blocks are organized into a <strong>grid</strong></li>
</ul>
<p>GPU hardware handles thread management, not applications or OS.</p>
<div align = center><img src="https://cdn.hobbitqia.cc/20231216005125.png" width=70%></div>

<h3 id="33-gpu-memory-structures">3.3 GPU memory structures<a class="headerlink" href="#33-gpu-memory-structures" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>GPU memory</strong> is shared by all <em>Grids</em> (vectorized loops).</li>
<li><strong>Local memory</strong> is shared by all threads of SIMD instructions within <em>a Thread Block</em> (body of a vectorized loop). </li>
<li><strong>Private memory</strong> is private to <em>a single CUDA Thread</em>.</li>
</ul>
<div align = center><img src="https://cdn.hobbitqia.cc/20231216005138.png" width=70%></div>
<div align = center><img src="https://cdn.hobbitqia.cc/20231216005355.png" width=70%></div>

<h2 id="4-loop-level-parallelism-llp">4 Loop-Level Parallelism (LLP)<a class="headerlink" href="#4-loop-level-parallelism-llp" title="Permanent link">&para;</a></h2>
<p>做并行时不能有相互依赖。</p>
<p>Finding and manipulating loop-level parallelism is critical to exploiting both DLP and TLP, as well as the more aggressive static ILP approaches (e.g., VLIW).</p>
<p>Focuses on determining whether data accesses in later iterations are dependent on data values produced in earlier iterations.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="mi">100</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"> </span><span class="cm">/* S1 */</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span><span class="w"> </span><span class="cm">/* S2 */</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="p">}</span>
</code></pre></div>
S1 出现跨迭代的依赖，就不能用并行/向量链接，因为要等前一次操作的结果。S2 可以向量化（多个迭代并行）。</p>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="mi">100</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"> </span><span class="cm">/* S1 */</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">D</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"> </span><span class="cm">/* S2 */</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="p">}</span>
</code></pre></div>
交换 S1 S2，随后把第一次和最后一次运算提出去，可以改为下面这样，就可以并行。
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="mi">99</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">D</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"> </span><span class="cm">/* S2 */</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"> </span><span class="cm">/* S1 */</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="p">}</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">B</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">C</span><span class="p">[</span><span class="mi">99</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">D</span><span class="p">[</span><span class="mi">99</span><span class="p">];</span>
</code></pre></div></p>
</div>
<h2 id="5-mimd-tread-level-parallelism">5 MIMD: Tread-level Parallelism<a class="headerlink" href="#5-mimd-tread-level-parallelism" title="Permanent link">&para;</a></h2>
<p>线程级的并行，称为 TLP，是由软件系统来确认的。</p>
<p>The threads consist of hundreds to millions of instructions that may be executed in parallel.</p>
<p>我们的发展从 ILP，到 TLP，再到 MIMD。</p>
<p>Multi-processor system 可以分为两大类：</p>
<ul>
<li>
<p>based on shared memory</p>
<p>系统中只有唯一的地址空间，所有进程共享。</p>
<p>并不代表只有一个物理上的内存，实际上可以通过一块物理共享的内存实现，也可以通过分布式的内存实现。</p>
</li>
<li>
<p>based on message passing</p>
<p>每个处理器都有自己的地址空间，通过消息传递来通信、传送数据。</p>
</li>
</ul>
<h3 id="51-shared-memory-system">5.1 Shared Memory System<a class="headerlink" href="#51-shared-memory-system" title="Permanent link">&para;</a></h3>
<div align = center><img src="https://cdn.hobbitqia.cc/20240110201622.png" width=70%></div>

<p>可以把共享内存划分为若干块，他们共同构成一个拼图（即统一的地址空间）。</p>
<p>有一个统一的操作系统，负责管理所有的信息、内存，给不同的进程使用内存。</p>
<p>If in a system, each CPU has equal access to all memory modules and input/output devices, and these CPUs are interchangeable in the operating system, then the system is a symmetric multiprocessor system <strong>SMP (Symmetric Multi- processor)</strong>.</p>
<h3 id="52-message-passing-system">5.2 Message Passing System<a class="headerlink" href="#52-message-passing-system" title="Permanent link">&para;</a></h3>
<div align = center><img src="https://cdn.hobbitqia.cc/20240110202617.png" width=70%></div>

<p>每一个进程都有自己的内存，通过 ICN 来传递信息，可以共同完成任务。</p>
<p>一般每个进程有自己的 OS，但是组合在一起形成一个大的系统。</p>
<p>Communication in the system is achieved by using an <strong>interconnection network</strong> to pass messages.</p>
<p>可以分层次，ICN 也可以连接其他的 ICN，结点里可以是另一个多机系统。</p>
<div align = center><img src="https://cdn.hobbitqia.cc/20240110202900.png" width=50%></div>

<h3 id="53-mimd-architecture">5.3 MIMD Architecture<a class="headerlink" href="#53-mimd-architecture" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Different memory access models of MIMD multiprocessor system</p>
<ul>
<li><strong>Uniform Memory Access (UMA)</strong></li>
<li><strong>Non Uniform Memory Access (NUMA)</strong></li>
<li><strong>Cache Only Memory Access (COMA)</strong></li>
</ul>
</li>
<li>
<p>Further division of MIMD multi-computer system</p>
<ul>
<li><strong>Massively Parallel Processors (MPP)</strong></li>
<li><strong>Cluster of Workstations(COW)</strong></li>
</ul>
</li>
</ul>
<h4 id="531-uma">5.3.1 UMA<a class="headerlink" href="#531-uma" title="Permanent link">&para;</a></h4>
<div align = center><img src="https://cdn.hobbitqia.cc/20240110203036.png" width=50%></div>

<p>所有的物理存储器，由所有的进程一起使用，均匀共享，即没有进程对某个存储器有特殊的访问权限，访问的时间相同，即不存在谁离谁更近的问题。</p>
<p>进程可以有自己的拓展，比如 cache、IO、local memory。</p>
<p>因为他的高度共享性，UMA 也叫紧耦合系统。</p>
<ul>
<li>Physical memory is uniformly shared by all processors.</li>
<li>It takes the same time for all processors to access any memory word.</li>
<li>Each processor can be equipped with private cache or private memory.</li>
</ul>
<details class="example">
<summary>Example</summary>
<p><div align = center><img src="https://cdn.hobbitqia.cc/20240110203433.png" width=60%></div></p>
</details>
<h4 id="532-numa">5.3.2 NUMA<a class="headerlink" href="#532-numa" title="Permanent link">&para;</a></h4>
<div align = center><img src="https://cdn.hobbitqia.cc/20240110203501.png" width=50%></div>

<p>对某个进程都自己的 local memory，由 ICN 连起来。被共享的存储器是不均匀的。访问自己的 local memory 最快，访问别人的慢。</p>
<p>进程也可以有自己的拓展。</p>
<p>NUMA 有两种拓展，</p>
<ul>
<li>NC-NUMA: Non Cache NUMA</li>
<li>
<p>CC-NUMA: Coherent Cache NUMA</p>
<p>有自己的 cache 和目录，存在 cache 一致性的问题。当有一个数据改了，如何保证其他 cache 里的数据的正确性。</p>
</li>
</ul>
<div align = center><img src="https://cdn.hobbitqia.cc/20240110204714.png" width=55%></div>

<ul>
<li>All CPUs share an uniform address space</li>
<li>Use LOAD and STORE instructions to access remote memory</li>
<li>Access to remote memory is slower than access to local memory</li>
<li>The processor in the NUMA system can use cache</li>
</ul>
<div class="admonition note">
<p class="admonition-title">UMA and NUMA</p>
<ul>
<li>UMA is also called <strong>symmetric (shared-memory) multiprocessors (SMP)</strong> or <strong>centralized shared-memory multiprocessors</strong>.</li>
<li>NUMA is called <strong>distributed shared-memory multiprocessor (DSP)</strong>.</li>
</ul>
<p><div align = center><img src="https://cdn.hobbitqia.cc/20240110205135.png" width=55%></div></p>
<p>可以看到 UMA 有 shared cache，因此一致性是保证的。</p>
</div>
<h4 id="533-coma">5.3.3 COMA<a class="headerlink" href="#533-coma" title="Permanent link">&para;</a></h4>
<div align = center><img src="https://cdn.hobbitqia.cc/20240110205326.png" width=50%></div>

<p>COMA 是 NUMA 模型的特例，每个进程之间不存在层次关系，可以组成一个全局的 cache。可以通过一个目录。</p>
<div align = center><img src="https://cdn.hobbitqia.cc/20240110205525.png" width=50%></div>

<ul>
<li>COMA is a special case of NUMA. There is no storage hierarchy in each processor node, and all caches form a uniform address space.</li>
<li>Use the distributed cache directory for remote cache access. When using COMA, the data can be allocated arbitrarily at the beginning, because it will eventually be moved to the place where it is used at runtime.</li>
</ul>
<h3 id="54-cache-coherence">5.4 Cache Coherence<a class="headerlink" href="#54-cache-coherence" title="Permanent link">&para;</a></h3>
<p>In modern parallel computers, processors often have Cache. One memory data may have multiple copies in the entire system. This leads to the Cache coherence problem.  </p>
<p>可能有多个 cache，都放有内存拷贝的数据，可能不一致。我们一般通过一个协议来约定。</p>
<ul>
<li>Bus snooping protocol</li>
<li>Directory based protocol</li>
</ul>
<p>协议主要是为了保证 cohrence 和 consistency.</p>
<ul>
<li>
<p>Coherence</p>
<p>读数据，读出来的一定是最新的数据（即刚被写过的值）。</p>
</li>
<li>
<p>Consistency</p>
<p>写一个值时，要把写的值返回（通过读指令），什么时候返回。</p>
</li>
</ul>
<h4 id="snoopy-coherence-protocols">Snoopy Coherence Protocols<a class="headerlink" href="#snoopy-coherence-protocols" title="Permanent link">&para;</a></h4>
<p>For UMA, the cache coherence problem is solved by the <strong>snoopy protocol</strong>.</p>
<p>对于 write-through 和 write-back，我们有不同的解决方案。</p>
<ul>
<li>
<p>Write-through Cache Coherency Protocol</p>
<p><a href="https://cdn.hobbitqia.cc/20240110211248.png">https://cdn.hobbitqia.cc/20240110211248.png</a></p>
</li>
</ul>
<p>Write Invalidation Protocol</p>
<ul>
<li>Write incalidate protocol: it invalidate protocol</li>
<li>
<p>Write update / write broadcast protocol: update all the cached copies of a data item when the item is written.</p>
<p>这里的 update 是指更新所有的 cache 中的数据</p>
</li>
</ul>
<p><strong>实现Write invalidate protocol</strong></p>
<p>把块的状态分为 three block states:(MSI protocol)</p>
<ul>
<li>Invalid</li>
<li>
<p>Shared</p>
<p>indicates that the block in the private cache is potentially shared.</p>
</li>
<li>
<p>Modified</p>
<p>indicates that the block has been updated in the private cache; implies that the block is exclusive.</p>
</li>
</ul>
<p><img alt="alt text" src="../assets/image.png" /></p>
<p><img alt="alt text" src="../assets/image-1.png" /></p>
<p>MSI 可以拓展为 MESI，多一个 exclusive。将其与 modified 区别开。
exclusive: indicates when a cache block is resident only in a single cache but is clean.</p>
<p>exclusive 时如果要读，就不能独占了，就会变为 shared。如果要写，就必须改为 modified。</p>
<p>MOESI</p>
<p>owned: indicates that the associated block is owned by that cache and out-of-date in memory.</p>
<p>Modified -&gt; Owned without writing the shared block to memory</p>
<p>MESI</p>
<ul>
<li>
<p>Invalid: The data contained in the cache item is invalid.</p>
<p>这个 CPU 里的缓存数据已经无效了（即在其他 CPU 里被改过了，而且还没有共享）</p>
</li>
<li>
<p>Shared: This row of data exists in multiple cache items, and the data in the memory is the latest.</p>
<p>多个 CPU 中都有自己的缓存。</p>
</li>
<li>
<p>Exclusive: No other cache items include this row of data, and the data in memory is the latest.</p>
<p>只有在自己的 CPU 里缓存，但是没有被修改，与内存一致。（因此其他 CPU 要读就可以改为 shared）</p>
</li>
<li>
<p>Modified: The data of the item is valid, but the data in the memory is invalid, and there is no copy of the data in other cache items.</p>
<p>被修改了。处于这个状态的数据只有在自己的 CPU 里才有缓存，这个时候还没有更新到内存里。</p>
</li>
</ul>
<div align = center><img src="https://cdn.hobbitqia.cc/20240110212328.png"></div>

<div class="admonition example">
<p class="admonition-title">Example</p>
<p>假设有两个 CPU。本地发一个 local write 的请求，如果发现所有 cache 中都没有这个地址（初始是 invalid），A 要写，对应 cache line 的状态就会变为 modified。CPU B 来读，发出 remote read，就变为了 shared（A 和 B 的 cache line 都是 share 的）。</p>
<p>如果 A 想写，B 也想，同时 A 先发起写，那么 A 中的 cache line 就变为 invalid。（只要有别人在我后面写，就变为无效） --&gt;</p>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; hhhjyz/All Rights Reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top"], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../../../javascripts/mathjax.js"></script>
      
        <script src="../../../../javascripts/katex.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>